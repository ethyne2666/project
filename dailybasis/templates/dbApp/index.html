{% extends "dbApp/base.html"%}
{% load static %}
{% block title %} Daily basis{% endblock %}

{% block content %}
<div id="weather-widget">
    <p class="loading-message">Fetching weather data...</p>
</div>

<section class="hero">
    <div class="hero-content">
        <img src="{% static 'images/daily-basis.jpg' %}" alt="Daily Basis" class="hero-logo">
        <h1><span class="bold">Fresh Groceries</span> <span class="highlight">Daily</span></h1>
        <p>Get the freshest produce, dairy, and essentials delivered to your doorstep.<br>
            Quality you can trust, convenience you deserve.</p>
        <button class="shop-btn" onclick="scrollToProducts()">Shop Now →</button>
    </div>
</section>

<section class="features">
    <div class="feature">
        <i class="icon"><i class="fa-solid fa-leaf"></i></i>
        <h3>Fresh & Organic</h3>
        <p>Locally sourced organic produce</p>
    </div>
    <div class="feature">
        <i class="icon"><i class="fa-solid fa-truck-fast"></i></i>
        <h3>Fast Delivery</h3>
        <p>Same-day delivery available</p>
    </div>
    <div class="feature">
        <i class="icon"><i class="fa-solid fa-clock"></i></i>
        <h3>Always Fresh</h3>
        <p>Daily replenished inventory</p>
    </div>
    <div class="feature">
        <i class="icon"><i class="fa-solid fa-calendar-check"></i></i>
        <h3>Quality Assured</h3>
        <p>100% satisfaction guarantee</p>
    </div>
</section>

<script>
    function scrollToProducts() {
        document.getElementById("product-section").scrollIntoView({ behavior: "smooth" });
    }
</script>

<div id="product-section" class="product-section">
    <h2>Featured Products</h2>
    <p>Explore our handpicked selection of fresh groceries.</p>

    <div class="product-grid">
        {% for product in products %}
        <a href="{% url 'details_page' product_id=product.id %}" class="product-link">
            <div class="product-card">
                <div class="product-image-container">
                    {% if product.image %}
                        <img src="{{ product.image.url }}" alt="{{ product.name }}" class="product-image">
                    {% else %}
                        <img src="{% static 'images/placeholder_product.jpg' %}" alt="No Image" class="product-image">
                    {% endif %}
                </div>
                <div class="product-info-container">
                    <h3 class="product-title">{{ product.name }}</h3>
                    <span class="product-category">{{ product.category }}</span>
                    <div class="product-price-and-action">
                        <div class="price-stock">
                            <span class="product-price">₹{{ product.price }}</span>
                            <span class="stock-status">
                                {% if product.stock > 0 %}
                                    In Stock ({{ product.stock }})
                                {% else %}
                                    Out of Stock
                                {% endif %}
                            </span>
                        </div>
                        <button class="add-to-cart-btn">
                            <i class="fa-solid fa-plus"></i>
                        </button>
                    </div>
                </div>
                <button class="btn-view-product">View Product</button>
            </div>
        </a>
        {% endfor %}
    </div>
</div>

<script src="{% static 'js/weather.js' %}"></script>

{% endblock %}